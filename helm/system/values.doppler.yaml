# {{/*   The following message will be printed to the output file as a notice.   */}}
# {{        print "      This file is generated automatically; DO NOT EDIT."       }}
# {{    print "To make changes, update the `values.doppler.yaml` file instead."    }}
# {{/* Use the Doppler `secrets substitute` command to generate the result file. */}}

namespaces: [apps, system] # the list of namespaces to create

traefik:
  namespaceOverride: kube-system
  nodeSelector: {node/role: master}
  #ingressRoute: {dashboard: {enabled: true}} # enable the Traefik dashboard on the traefik endpoint
  ports:
    3proxy-http:
      port: !!int {{ .HTTP_PROXY_PORT }}
      protocol: TCP
      expose: {default: true}
    web:
      redirections: {entryPoint: {to: websecure, scheme: https}} # redirect HTTP to HTTPS
  globalArguments: [] # disable `checknewversion` and `sendanonymoususage`
  logs:
    general: {format: json} # log in JSON format
    access: {enabled: false} # disable access logs
  resources:
    limits: {memory: 1024Mi}
    requests: {memory: 256Mi}

external-secrets:
  installCRDs: true
  nameOverride: system

doppler:
  enabled: true
  serviceToken: !!string {{ .DOPPLER_K8S_SERVICE_TOKEN }}
